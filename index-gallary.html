<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>



    <style>
        .mediabox-wrap {
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: #000;
            background-color: rgba(0, 0, 0, 0.8);
            top: 0;
            left: 0;
            opacity: 0;
            z-index: 999;
            -webkit-animation-duration: 0.5s;
            animation-duration: 0.5s;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
            -webkit-animation-name: mediabox;
            animation-name: mediabox;
        }

        @-webkit-keyframes mediabox {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes mediabox {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .mediabox-content {
            max-width: 90%;
            display: block;
            margin: 44px auto;
            height: calc(100% - 88px);
            position: relative;
        }

        .mediabox-content iframe {
            max-width: 100% !important;
            width: 100% !important;
            display: block !important;
            height: 100% !important;
            border: none !important;
            position: absolute;
            top: 0;
            bottom: 0;
            margin: auto 0;
        }

        .mediabox-hide {
            -webkit-animation-duration: 0.5s;
            animation-duration: 0.5s;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
            -webkit-animation-name: mediaboxhide;
            animation-name: mediaboxhide;
        }

        @-webkit-keyframes mediaboxhide {
            0% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes mediaboxhide {
            0% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        .mediabox-close-bg {
            display: flex;
            z-index: 100;
            position: absolute;
            cursor: pointer;
            top: 0px;
            right: 0px;
            margin: auto 0;
            color: white;
            justify-content: center;
            align-items: center;
            width: 44px;
            height: 44px;
            background-size: 44px 44px;
            -webkit-background-size: 44px 44px;
            -moz-background-size: 44px 44px;
            -o-background-size: 44px 44px;
            background-color: rgba(0, 0, 0, 0.2);
        }

        /*
        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMvSURBVHja7Js9aBRBFMd/d1lPY6FiJVjY+Fkoxl7wA1Q0prQRS6tgoZV2MWIRRVHUUq3U+JnESrS2sBXBzipREWMlATXwt8gFznC5nd15M7Nn8uC45nZnfr/dY96+N1uTxFKOOks8lgUU/H2t4tJqIQUcAiaBGeBymcECRgO4B/wBPgJ9zkdKcvkclfRL/8ZtSTXH40N+GpLGF8zth6Q9Lse7DHCsDXxVJLSDLyQhb4B+Sb/VOVJJ6ATfKqGvrIDjDvCpJLjAz8d0JwmLDTBQAD62hIakiYJzm5a021VAfwn4WBLKwLdK2JUnIJP0XX4RSoIP/Hy8W3jeepv1dL3nmjwI3DLOExrAU2DA8zwb8xKhGeCuwYQtJTSAZwbwAHdcEqFM0mPZhO/foSHppdFcrraby2IDV0FCcPi8PCClhCjwLplgCgkrDeGv5I3pcjViSogK7yogloTo8EUEhJaQBL6oAGsJ9yVtkrRD0qsU8JKolagKZ8AD4ETFymFXgPOAQpXE5mMWOAk86XZ4n6pwlSSUhvcti1dBghe8RV8gpYQRX3irxkgKCSPABV94y85QTAlm8NatsRgSTOGBUnmAS57w3KiA0Ro3gHOW8KEEAOwE3hvfXWubFauu6A6vCND07OmW9viq5vpsGT3AtRAN2XoA+BfAwQBiTweoNpMZw48BRwKuAoPN7zNVWwZjwAfpO9S7DN5cQmYAPw4cTvAsYPJ3qHcpvNmdUO9ieBMJZQT0AhMVgfeWUC8BP87cjjHfuA6sATY0c4c0EgpUUHslvTaq3l5aUL1N1oarAnxSCVWBTyYhJvyw41XJJI3GkpAH/yYyfHQJi01gdUL4qBKqCh9NQrtBx4wGvGi0XS6T9MhoTkN5AtZVDN5awlTePsGfwDfPjGwYGDKu3s4Cp4BRz/N8cskED0iaqciVt7wTvkra5roKlJEQGt5HwhdJ24vmAUUkDEV+VyCT9NBxbp/bXXnXTNBFQmz4IhI6wrs+C+zvICEVvIuEKUlbrZ4G97WRkBq+k4RJSVusd4ntlfSheVudrQh8q4SbmntH6K2kzSF3if1Xsfzq7LKAJR5/BwCdAQBJn4egPgAAAABJRU5ErkJggg==') no-repeat;
*/
        .mediabox-close-bg:hover {
            background-color: black;
        }

        .yt-bg {
            width: 350px;
            height: 280px;
            display: block;
            background-size: contain;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
            color: red;
            text-decoration: none;
        }

        .yt-icon {
            background: red;
            border-radius: 50% / 10%;
            color: #FFFFFF;
            font-size: 40%;
            height: 3em;
            margin: 20px auto;
            padding: 0;
            position: relative;
            text-align: center;
            text-indent: 0.1em;
            transition: all 150ms ease-out;
            width: 4em;
        }

        .yt-icon::before {
            background: inherit;
            border-radius: 5% / 50%;
            bottom: 9%;
            content: "";
            left: -5%;
            position: absolute;
            right: -5%;
            top: 9%;
        }

        .yt-icon::after {
            border-style: solid;
            border-width: 1em 0 1em 1.732em;
            border-color: transparent transparent transparent rgba(255, 255, 255, 0.75);
            content: ' ';
            font-size: 0.75em;
            height: 0;
            margin: -1em 0 0 -0.75em;
            top: 50%;
            position: absolute;
            width: 0;
        }
    </style>
</head>

<body>

    <a class="mediabox" href="https://www.youtube.com/watch?v=WCiUYOmNVkw"></a>
    <script>
        $(".mediabox").each(function () {
            var url = $(this).attr("href")
            var regExp = /^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            var match = url.match(regExp);
            if (match && match[2].length == 11) {
                var id = match[2];
                var path = 'https://img.youtube.com/vi/' + id + '/0.jpg';
                $(this).addClass('yt-bg').css('background-image', 'url(' + path + ')');
                $(this).append('<sapn class="yt-icon"></sapn>');
            }
        });
    </script>

    <script>
        (function (root, factory) {
            "use strict";
            if (typeof define === 'function' && define.amd) {
                define([], factory);
            } else if (typeof exports === 'object') {
                module.exports = factory();
            } else {
                root.MediaBox = factory();
            }
        }(this, function () {
            "use strict";

            var MediaBox = function (element) {
                if (!this || !(this instanceof MediaBox)) {
                    return new MediaBox(element);
                }

                this.selector = document.querySelectorAll(element);
                this.root = document.querySelector('body');
                this.run();
            };

            MediaBox.prototype = {
                run: function () {
                    Array.prototype.forEach.call(this.selector, function (el) {
                        el.addEventListener('click', function (e) {
                            e.preventDefault();

                            var link = this.parseUrl(el.getAttribute('href'));
                            this.render(link);
                            this.close();
                        }.bind(this), false);
                    }.bind(this));
                },
                template: function (s, d) {
                    var p;

                    for (p in d) {
                        if (d.hasOwnProperty(p)) {
                            s = s.replace(new RegExp('{' + p + '}', 'g'), d[p]);
                        }
                    }
                    return s;
                },
                parseUrl: function (url) {
                    var service = {},
                        matches;

                    if (matches = url.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/)) {
                        service.provider = "youtube";
                        service.id = matches[2];
                    } else if (matches = url.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/)) {
                        service.provider = "vimeo";
                        service.id = matches[3];
                    } else {
                        service.provider = "Unknown";
                        service.id = '';
                    }

                    return service;
                },
                render: function (service) {
                    var embedLink,
                        lightbox;

                    if (service.provider === 'youtube') {
                        embedLink = 'https://www.youtube.com/embed/' + service.id;
                    } else if (service.provider === 'vimeo') {
                        embedLink = 'https://player.vimeo.com/video/' + service.id;
                    } else {
                        throw new Error("Invalid video URL");
                    }

                    lightbox = this.template(
                        '<div class="mediabox-wrap"><span class="mediabox-close-bg mediabox-close"><i class="fa fa-close fa-lg mediabox-close"></i></span><div class="mediabox-content"><iframe src="{embed}?autoplay=1&autohide=1&fs=1&rel=0&hd=1&wmode=transparent&enablejsapi=1&html5=1&modestbranding=1" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen mozallowfullscreen allowfullscreen allowtransparency="true"></iframe></div></div>', {
                        embed: embedLink
                    });

                    this.root.insertAdjacentHTML('beforeend', lightbox);
                },
                close: function () {
                    var wrapper = document.querySelector('.mediabox-wrap');

                    wrapper.addEventListener('click', function (e) {
                        if (e.target && (e.target.nodeName === 'SPAN' || e.target.nodeName === 'I') && e.target.classList.contains('mediabox-close')) {
                            wrapper.classList.add('mediabox-hide');
                            setTimeout(function () {
                                this.root.removeChild(wrapper);
                            }.bind(this), 500);
                        }
                    }.bind(this), false);
                }
            };

            return MediaBox;
        }));


        //Initialize the MediaBox.

        MediaBox('.mediabox');
    </script>
</body>

</html>